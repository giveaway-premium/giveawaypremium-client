{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { withRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport { Input, Button, Spin, Tabs, Tag, DatePicker, Row } from 'antd';\nimport { images } from \"../../../../../../../config/images\";\nimport MyModal from \"../../../../../../Components/MyModal\";\nimport { showNotification } from \"../../../../../../../common/function\";\nimport { Router } from \"../../../../../../../common/routes\";\nimport { isMobile } from 'react-device-detect';\nimport \"./style.scss\";\nimport GapService from \"../../../../../../../controller/Api/Services/Gap\";\nimport TweenOneGroup from 'rc-tween-one';\nimport { PlusOutlined, LoadingOutlined } from '@ant-design/icons';\nimport moment from 'moment';\n\nclass ConfigConsignmentId extends React.Component {\n  static async getInitialProps({\n    query\n  }) {\n    return {\n      query\n    };\n  }\n\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n\n    _defineProperty(this, \"fetchAllTags\", async function () {\n      const {\n        tags\n      } = _this.state;\n      const tempTags = tags;\n\n      _this.setState({\n        isLoadingTags: true\n      }, async function () {\n        const res = await GapService.getConsignmentID();\n\n        if (res && res.results && res.results.length > 0) {\n          res.results.map(function (tag) {\n            tempTags.push(`${tag.code}`);\n          });\n\n          _this.setState({\n            allInfoTag: res.results,\n            tags: tempTags,\n            isLoadingTags: false\n          });\n        } else {\n          _this.setState({\n            isLoadingTags: false\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"handleClose\", async function (removedTag) {\n      const tags = _this.state.tags.filter(function (tag) {\n        return tag !== removedTag;\n      });\n\n      const allInfoTag = _this.state.allInfoTag.filter(function (tag) {\n        return tag.code !== removedTag;\n      });\n\n      const foundTagItem = _this.state.allInfoTag.filter(function (tag) {\n        return tag.code === removedTag;\n      });\n\n      if (foundTagItem && foundTagItem[0] && foundTagItem[0].objectId) {\n        _this.setState({\n          tags,\n          allInfoTag\n        });\n\n        const res = await GapService.deleteConsignmentID(foundTagItem[0].objectId);\n\n        if (res) {\n          showNotification(`Xoá thành công ${foundTagItem[0].code}`);\n        } else {\n          showNotification('Xoá thất bại');\n        }\n      }\n    });\n\n    _defineProperty(this, \"showInput\", function () {\n      _this.setState({\n        inputVisible: true\n      }, function () {\n        return _this.input.focus();\n      });\n    });\n\n    _defineProperty(this, \"handleInputChange\", function (e) {\n      _this.setState({\n        inputValue: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleInputConfirm\", function () {\n      const {\n        inputValue,\n        timeGetMoney\n      } = _this.state;\n      let {\n        tags,\n        allInfoTag\n      } = _this.state;\n\n      if (inputValue && tags.indexOf(inputValue) === -1) {\n        const newTag = {\n          code: inputValue,\n          timeGetMoney: timeGetMoney\n        };\n        tags = [...tags, inputValue];\n\n        _this.setState({\n          tags,\n          inputVisible: false,\n          inputValue: ''\n        }, async function () {\n          const res = await GapService.setConsignmentID(newTag);\n\n          if (res && res.objectId) {\n            _this.setState({\n              allInfoTag: [...allInfoTag, {\n                code: inputValue,\n                timeGetMoney: timeGetMoney,\n                objectId: res.objectId\n              }]\n            }, function () {\n              return showNotification('Thêm thành công');\n            });\n          } else {\n            showNotification('Thêm thất bại');\n          }\n        });\n      } else {\n        showNotification('Mã đã tồn tại');\n      }\n    });\n\n    _defineProperty(this, \"saveInputRef\", function (input) {\n      _this.input = input;\n    });\n\n    _defineProperty(this, \"forMap\", function (tag) {\n      const tagElem = __jsx(Tag, {\n        closable: true,\n        onClose: function (e) {\n          e.preventDefault();\n\n          _this.handleClose(tag);\n        }\n      }, tag);\n\n      return __jsx(\"span\", {\n        key: tag,\n        style: {\n          display: 'inline-block'\n        }\n      }, tagElem);\n    });\n\n    _defineProperty(this, \"onChangeTimeGetMoney\", function (value) {\n      try {\n        const formatTime = moment(value).format('DD-MM-YYYY');\n\n        _this.setState({\n          timeGetMoney: formatTime\n        }, function () {\n          console.log(_this.state);\n        });\n      } catch (e) {\n        console.log(e);\n        showNotification('Lỗi');\n      }\n    });\n\n    this.state = {\n      tags: [],\n      allInfoTag: [],\n      timeGetMoney: moment(),\n      isLoadingTags: false,\n      inputVisible: false,\n      inputValue: ''\n    };\n    this.myModal = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    this.fetchAllTags();\n  }\n\n  render() {\n    const {\n      tags,\n      inputVisible,\n      inputValue,\n      isLoadingTags\n    } = this.state;\n    const tagChild = tags.map(this.forMap);\n    return __jsx(\"div\", {\n      className: \"ConfigConsignmentId-container\"\n    }, __jsx(\"div\", {\n      style: {\n        marginBottom: 16\n      }\n    }, isLoadingTags ? __jsx(LoadingOutlined, null) : __jsx(TweenOneGroup, {\n      enter: {\n        scale: 0.8,\n        opacity: 0,\n        type: 'from',\n        duration: 100,\n        onComplete: function (e) {\n          e.target.style = '';\n        }\n      },\n      leave: {\n        opacity: 0,\n        width: 0,\n        scale: 0,\n        duration: 200\n      },\n      appear: false\n    }, tagChild)), inputVisible && __jsx(React.Fragment, null, __jsx(Input.Group, {\n      compact: true\n    }, __jsx(Input, {\n      onChange: this.handleInputChange,\n      size: \"small\",\n      ref: this.saveInputRef,\n      style: {\n        width: 150,\n        height: 40,\n        maxWidth: '50%'\n      },\n      placeholder: \"...\"\n    }), __jsx(DatePicker, {\n      onChange: this.onChangeTimeGetMoney,\n      placeholder: \"DD-MM-YYYY\",\n      format: \"DD-MM-YYYY\",\n      defaultValue: moment(),\n      style: {\n        width: 200,\n        height: 40,\n        maxWidth: '50%'\n      }\n    })), __jsx(Button, {\n      onClick: this.handleInputConfirm,\n      className: \"MT10\"\n    }, \"Th\\xEAm\")), !inputVisible && __jsx(Tag, {\n      onClick: this.showInput,\n      className: \"site-tag-plus\"\n    }, __jsx(PlusOutlined, null), \" Th\\xEAm m\\xE3 m\\u1EDBi\"));\n  }\n\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    locale: state.locale,\n    userData: state.userData\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, null)(ConfigConsignmentId)); //   <Input\n//     ref={this.saveInputRef}\n//     type='text'\n//     size='small'\n//     style={{ width: 78 }}\n//     value={inputValue}\n//     onChange={this.handleInputChange}\n//     onBlur={this.handleInputConfirm}\n//     onPressEnter={this.handleInputConfirm}\n//   />","map":{"version":3,"sources":["/Users/macbook/Desktop/giveawaypremium-client/pages/Screen/DashBoard/components/SettingScreen/Components/ConfigConsignmentId/index.js"],"names":["React","withRouter","connect","Input","Button","Spin","Tabs","Tag","DatePicker","Row","images","MyModal","showNotification","Router","isMobile","GapService","TweenOneGroup","PlusOutlined","LoadingOutlined","moment","ConfigConsignmentId","Component","getInitialProps","query","constructor","props","tags","state","tempTags","setState","isLoadingTags","res","getConsignmentID","results","length","map","tag","push","code","allInfoTag","removedTag","filter","foundTagItem","objectId","deleteConsignmentID","inputVisible","input","focus","e","inputValue","target","value","timeGetMoney","indexOf","newTag","setConsignmentID","tagElem","preventDefault","handleClose","display","formatTime","format","console","log","myModal","createRef","componentDidMount","fetchAllTags","render","tagChild","forMap","marginBottom","scale","opacity","type","duration","onComplete","style","width","handleInputChange","saveInputRef","height","maxWidth","onChangeTimeGetMoney","handleInputConfirm","showInput","mapStateToProps","locale","userData"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withRouter } from 'next/router'\nimport { connect } from 'react-redux'\nimport { Input, Button, Spin, Tabs, Tag, DatePicker, Row } from 'antd'\nimport { images } from 'config/images'\nimport MyModal from 'pages/Components/MyModal'\nimport { showNotification } from 'common/function'\nimport { Router } from 'common/routes'\nimport { isMobile } from 'react-device-detect'\nimport './style.scss'\nimport GapService from 'controller/Api/Services/Gap'\nimport TweenOneGroup from 'rc-tween-one'\nimport { PlusOutlined, LoadingOutlined } from '@ant-design/icons'\nimport moment from 'moment'\n\nclass ConfigConsignmentId extends React.Component {\n  static async getInitialProps ({ query }) {\n    return { query }\n  }\n  constructor (props) {\n    super(props)\n    this.state = {\n      tags: [],\n      allInfoTag: [],\n      timeGetMoney: moment(),\n      isLoadingTags: false,\n      inputVisible: false,\n      inputValue: ''\n    }\n    this.myModal = React.createRef()\n  }\n\n  componentDidMount () {\n    this.fetchAllTags()\n  }\n\n  fetchAllTags = async () => {\n    const { tags } = this.state\n    const tempTags = tags\n    this.setState({\n      isLoadingTags: true\n    }, async () => {\n      const res = await GapService.getConsignmentID()\n      if (res && res.results && res.results.length > 0) {\n        res.results.map(tag => {\n          tempTags.push(`${tag.code}`)\n        })\n\n        this.setState({\n          allInfoTag: res.results,\n          tags: tempTags,\n          isLoadingTags: false\n        })\n      } else {\n        this.setState({\n          isLoadingTags: false\n        })\n      }\n    })\n  }\n\n  handleClose = async removedTag => {\n    const tags = this.state.tags.filter(tag => tag !== removedTag)\n    const allInfoTag = this.state.allInfoTag.filter(tag => tag.code !== removedTag)\n    const foundTagItem = this.state.allInfoTag.filter(tag => tag.code === removedTag)\n\n    if (foundTagItem && foundTagItem[0] && foundTagItem[0].objectId) {\n      this.setState({ tags, allInfoTag })\n\n      const res = await GapService.deleteConsignmentID(foundTagItem[0].objectId)\n\n      if (res) {\n        showNotification(`Xoá thành công ${foundTagItem[0].code}`)\n      } else {\n        showNotification('Xoá thất bại')\n      }\n    }\n  };\n\n  showInput = () => {\n    this.setState({ inputVisible: true }, () => this.input.focus())\n  };\n\n  handleInputChange = e => {\n    this.setState({ inputValue: e.target.value })\n  };\n\n  handleInputConfirm = () => {\n    const { inputValue, timeGetMoney } = this.state\n    let { tags, allInfoTag } = this.state\n\n    if (inputValue && tags.indexOf(inputValue) === -1) {\n      const newTag = { code: inputValue, timeGetMoney: timeGetMoney }\n\n      tags = [...tags, inputValue]\n      this.setState({\n        tags,\n        inputVisible: false,\n        inputValue: ''\n      }, async () => {\n        const res = await GapService.setConsignmentID(newTag)\n        if (res && res.objectId) {\n          this.setState({\n            allInfoTag: [...allInfoTag, { code: inputValue, timeGetMoney: timeGetMoney, objectId: res.objectId }]\n          }, () => showNotification('Thêm thành công'))\n        } else {\n          showNotification('Thêm thất bại')\n        }\n      })\n    } else {\n      showNotification('Mã đã tồn tại')\n    }\n  };\n\n  saveInputRef = input => {\n    this.input = input\n  };\n\n  forMap = tag => {\n    const tagElem = (\n      <Tag\n        closable\n        onClose={e => {\n          e.preventDefault()\n          this.handleClose(tag)\n        }}\n      >\n        {tag}\n      </Tag>\n    )\n    return (\n      <span key={tag} style={{ display: 'inline-block' }}>\n        {tagElem}\n      </span>\n    )\n  };\n\n  onChangeTimeGetMoney = (value) => {\n    try {\n      const formatTime = moment(value).format('DD-MM-YYYY')\n\n      this.setState({\n        timeGetMoney: formatTime\n      }, () => {\n        console.log(this.state)\n      })\n    } catch (e) {\n      console.log(e)\n      showNotification('Lỗi')\n    }\n  }\n\n  render () {\n    const { tags, inputVisible, inputValue, isLoadingTags } = this.state\n    const tagChild = tags.map(this.forMap)\n    return (\n      <div className='ConfigConsignmentId-container'>\n        <div style={{ marginBottom: 16 }}>\n          {\n            isLoadingTags ? <LoadingOutlined />\n              : <TweenOneGroup\n                enter={{\n                  scale: 0.8,\n                  opacity: 0,\n                  type: 'from',\n                  duration: 100,\n                  onComplete: e => {\n                    e.target.style = ''\n                  }\n                }}\n                leave={{ opacity: 0, width: 0, scale: 0, duration: 200 }}\n                appear={false}\n              >\n                {tagChild}\n              </TweenOneGroup>\n          }\n        </div>\n        {inputVisible && (\n        <>\n          <Input.Group compact>\n            <Input onChange={this.handleInputChange} size='small' ref={this.saveInputRef} style={{ width: 150, height: 40, maxWidth: '50%' }} placeholder='...' />\n            <DatePicker onChange={this.onChangeTimeGetMoney} placeholder='DD-MM-YYYY' format='DD-MM-YYYY' defaultValue={moment()} style={{ width: 200, height: 40, maxWidth: '50%' }} />\n          </Input.Group>\n          <Button onClick={this.handleInputConfirm} className='MT10'>Thêm</Button>\n        </>\n        )}\n        {!inputVisible && (\n          <Tag onClick={this.showInput} className='site-tag-plus'>\n            <PlusOutlined /> Thêm mã mới\n          </Tag>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  locale: state.locale,\n  userData: state.userData\n})\n\nexport default withRouter(connect(mapStateToProps, null)(ConfigConsignmentId))\n//   <Input\n//     ref={this.saveInputRef}\n//     type='text'\n//     size='small'\n//     style={{ width: 78 }}\n//     value={inputValue}\n//     onChange={this.handleInputChange}\n//     onBlur={this.handleInputConfirm}\n//     onPressEnter={this.handleInputConfirm}\n//   />\n"]},"metadata":{},"sourceType":"module"}