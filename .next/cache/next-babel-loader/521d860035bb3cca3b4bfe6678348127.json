{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Router } from \"../../../../../common/routes\";\nimport ReduxServices from \"../../../../../common/redux\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'next/router';\nimport { images } from \"../../../../../config/images\";\nimport { isMobile } from 'react-device-detect';\nimport MyModal from \"../../../../Components/MyModal\";\nimport moment from 'moment';\nimport GapService from \"../../../../../controller/Api/Services/Gap\";\nimport { Form, Row, Col, Input, Button, Descriptions, Divider, DatePicker, Select } from 'antd';\nimport Lottie from 'react-lottie';\nimport \"./style.scss\";\nimport { showNotification } from \"../../../../../common/function\";\n\nvar ConsignmentScreen = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(ConsignmentScreen, _React$PureComponent);\n\n  var _super = _createSuper(ConsignmentScreen);\n\n  function ConsignmentScreen(props) {\n    var _this;\n\n    _classCallCheck(this, ConsignmentScreen);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchAppointment\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var dayBooking, arrayDate, bookingDataCode, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dayBooking = _this.state.dayBooking;\n              arrayDate = [];\n              bookingDataCode = '';\n              dayBooking.map(function (itemDate, indexdate) {\n                arrayDate.push(\"\\\"\".concat(itemDate.date, \"\\\"\"));\n              });\n              _context.next = 6;\n              return GapService.getAppointmentWithDate(arrayDate);\n\n            case 6:\n              res = _context.sent;\n\n              if (res && res.results) {\n                res.results.map(function (itemData, indexItem) {\n                  if (itemData && itemData.slot) {\n                    bookingDataCode += '-' + itemData.slot + '-';\n                  }\n                });\n              }\n\n              console.log('res');\n              console.log(res);\n              console.log(bookingDataCode);\n\n              _this.setState({\n                bookingDataCode: bookingDataCode\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"translationDate\", function (key) {\n      switch (key) {\n        case 'Sunday':\n          return 'Chủ Nhật';\n\n        case 'Monday':\n          return 'Thứ hai';\n\n        case 'Tuesday':\n          return 'Thứ ba';\n\n        case 'Wednesday':\n          return 'Thứ tư';\n\n        case 'Thursday':\n          return 'Thứ năm';\n\n        case 'Friday':\n          return 'Thứ sáu';\n\n        case 'Saturday':\n          return 'Thứ bảy';\n\n        default:\n          return key;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChooseDay\", function (choosenDay) {\n      console.log(choosenDay);\n\n      _this.setState({\n        step: 1,\n        isHideUserForm: true,\n        choosenTimeCode: null,\n        choosenDayCode: choosenDay ? choosenDay.dayCode : ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChooseTime\", function (choosenTime) {\n      console.log(choosenTime);\n\n      _this.setState({\n        step: 1,\n        choosenTimeCode: choosenTime ? choosenTime.timeCode : ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleOpenContent\", function () {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onConsign\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _this$state, formData, choosenDayCode, choosenTimeCode, bookingDataCode;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$state = _this.state, formData = _this$state.formData, choosenDayCode = _this$state.choosenDayCode, choosenTimeCode = _this$state.choosenTimeCode, bookingDataCode = _this$state.bookingDataCode;\n\n              if (choosenTimeCode && choosenDayCode) {\n                _this.setState({\n                  isConsigning: true\n                }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                  var formatedTime, formatedDay, slotID, bookingDataCode, res;\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          console.log('onConsign');\n                          formatedTime = choosenTimeCode.substring(0, 2) + ':' + choosenTimeCode.substring(2, 4);\n                          formatedDay = choosenDayCode.substring(0, 2) + '-' + choosenDayCode.substring(2, 4) + '-' + choosenDayCode.substring(4, 8);\n                          slotID = choosenTimeCode + choosenDayCode;\n                          bookingDataCode = _this.state.bookingDataCode + '-' + slotID + '-';\n                          _context2.next = 7;\n                          return GapService.setAppointment(formData, slotID, formatedTime, formatedDay);\n\n                        case 7:\n                          res = _context2.sent;\n                          console.log('res');\n                          console.log(res);\n\n                          if (res && res.objectId) {\n                            _this.setState({\n                              bookingDataCode: bookingDataCode,\n                              isHideUserForm: true,\n                              isConsigning: false\n                            }, function () {\n                              setTimeout(function () {\n                                _this.setState({\n                                  step: 3,\n                                  isHideDayColumn: true\n                                });\n                              }, 1000);\n                            });\n                          } else {\n                            _this.setState({\n                              isConsigning: false\n                            }, function () {\n                              return _this.fetchAppointment();\n                            });\n\n                            showNotification('Đặt lịch thất bại!');\n                          }\n\n                        case 11:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                })));\n              }\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleStepTwo\", function () {\n      _this.setState({\n        isHideUserForm: false\n      }, function () {\n        setTimeout(function () {\n          _this.setState({\n            step: 2\n          });\n        }, 500);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"backStepOne\", function () {\n      _this.setState({\n        isHideUserForm: true\n      }, function () {\n        _this.fetchAppointment();\n\n        setTimeout(function () {\n          _this.setState({\n            step: 1\n          });\n        }, 500);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAndBackProps\", function () {\n      _this.setState({\n        formData: {\n          customerName: '',\n          phoneNumber: '',\n          numberOfProduct: 1\n        },\n        step: 0,\n        isHideDayColumn: false,\n        choosenDayCode: null,\n        choosenTimeCode: null\n      }, function () {\n        _this.fetchAppointment();\n\n        _this.props.backConsignment();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"convertCodeToTime\", function () {\n      var _this$state2 = _this.state,\n          choosenTimeCode = _this$state2.choosenTimeCode,\n          choosenDayCode = _this$state2.choosenDayCode;\n\n      if (choosenTimeCode && choosenDayCode) {\n        var formatedTime = choosenTimeCode.substring(0, 2) + ':' + choosenTimeCode.substring(2, 4);\n        var formatedDay = choosenDayCode.substring(0, 2) + '-' + choosenDayCode.substring(2, 4) + '-' + choosenDayCode.substring(4, 8);\n        return formatedDay + ' ' + formatedTime;\n      }\n\n      return '---';\n    });\n\n    _this.state = {\n      dayBooking: [],\n      formData: {\n        customerName: '',\n        phoneNumber: '',\n        numberOfProduct: 1\n      },\n      timeBooking: [{\n        timeName: '10:00',\n        timeCode: '1000'\n      }, {\n        timeName: '10:30',\n        timeCode: '1030'\n      }, {\n        timeName: '11:00',\n        timeCode: '1100'\n      }, {\n        timeName: '11:30',\n        timeCode: '1130'\n      }, {\n        timeName: '12:00',\n        timeCode: '1200'\n      }, {\n        timeName: '12:30',\n        timeCode: '1230'\n      }, {\n        timeName: '13:00',\n        timeCode: '1300'\n      }, {\n        timeName: '13:30',\n        timeCode: '1330'\n      }, {\n        timeName: '14:00',\n        timeCode: '1400'\n      }, {\n        timeName: '14:30',\n        timeCode: '1430'\n      }, {\n        timeName: '15:00',\n        timeCode: '1500'\n      }, {\n        timeName: '15:30',\n        timeCode: '1530'\n      }, {\n        timeName: '16:00',\n        timeCode: '1600'\n      }, {\n        timeName: '16:30',\n        timeCode: '1630'\n      }, {\n        timeName: '17:00',\n        timeCode: '1700'\n      }, {\n        timeName: '17:30',\n        timeCode: '1730'\n      }, {\n        timeName: '18:00',\n        timeCode: '1800'\n      }, {\n        timeName: '18:30',\n        timeCode: '1830'\n      }],\n      step: 0,\n      isHideUserForm: true,\n      isHideDayColumn: false,\n      choosenDayCode: null,\n      choosenTimeCode: null,\n      bookingDataCode: []\n    };\n    _this.myModal = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(ConsignmentScreen, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this2 = this;\n\n        var dayBookingCount, dayBookingTemp;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                dayBookingCount = ['', '', '', '', '', '', ''];\n                dayBookingTemp = [];\n                console.log('componentDidMount');\n                console.log(moment(Date().now));\n                dayBookingCount.map(function (item, index) {\n                  dayBookingTemp.push({\n                    dayName: moment().add(index, 'day').format('dddd'),\n                    date: moment().add(index, 'day').format('DD-MM-YYYY'),\n                    dayCode: moment().add(index, 'day').format('DD-MM-YYYY').replaceAll('-', '')\n                  });\n                });\n                this.setState({\n                  dayBooking: dayBookingTemp\n                }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _context4.next = 2;\n                          return _this2.fetchAppointment();\n\n                        case 2:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                })));\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state3 = this.state,\n          step = _this$state3.step,\n          dayBooking = _this$state3.dayBooking,\n          choosenDayCode = _this$state3.choosenDayCode,\n          timeBooking = _this$state3.timeBooking,\n          bookingDataCode = _this$state3.bookingDataCode,\n          choosenTimeCode = _this$state3.choosenTimeCode,\n          formData = _this$state3.formData,\n          isHideUserForm = _this$state3.isHideUserForm,\n          isConsigning = _this$state3.isConsigning,\n          isHideDayColumn = _this$state3.isHideDayColumn;\n      var layout = {\n        labelCol: {\n          span: 9\n        },\n        wrapperCol: {\n          span: 15\n        }\n      };\n      var defaultOptionsSuccess = {\n        loop: false,\n        autoplay: true,\n        animationData: images.successJson\n      };\n      return __jsx(\"div\", {\n        className: \"bookingform-home-container\"\n      }, __jsx(\"div\", {\n        className: \"bookingform\"\n      }, __jsx(\"div\", {\n        className: 'dayBooking-box' + (!isHideDayColumn ? ' show' : '')\n      }, dayBooking.map(function (dayItem, dayIndex) {\n        return __jsx(\"div\", {\n          key: dayIndex,\n          className: 'day-box',\n          onClick: function onClick() {\n            return _this3.onChooseDay(dayItem);\n          },\n          style: choosenDayCode && choosenDayCode === dayItem.dayCode ? {\n            borderColor: 'black',\n            opacity: 1\n          } : choosenDayCode && choosenDayCode !== dayItem.dayCode ? {\n            opacity: 0.4\n          } : {}\n        }, __jsx(\"span\", {\n          className: \"text day-name\"\n        }, dayIndex === 0 ? 'Hôm nay' : _this3.translationDate(dayItem.dayName)), __jsx(\"span\", {\n          className: \"text day-txt\"\n        }, dayItem.date));\n      })), __jsx(\"div\", {\n        className: \"timeBooking-box\"\n      }, __jsx(\"div\", {\n        className: 'timeBooking-grid' + (step === 1 && isHideUserForm ? ' show' : '')\n      }, timeBooking.map(function (itemTime, indexTime) {\n        var isReady = !bookingDataCode.includes(choosenTimeCode + choosenDayCode) && itemTime.timeCode === choosenTimeCode;\n        var isBusy = bookingDataCode.includes(itemTime.timeCode + choosenDayCode); // console.log(bookingDataCode)\n        // console.log(itemTime.timeCode + choosenDayCode)\n        // console.log(isReady)\n        // console.log(isBusy)\n\n        return __jsx(\"div\", {\n          style: isBusy ? {\n            pointerEvents: 'none',\n            cursor: 'none'\n          } : {},\n          onClick: function onClick() {\n            return isBusy ? {} : _this3.onChooseTime(itemTime);\n          },\n          key: indexTime,\n          className: 'time-box' + (isReady ? ' ready' : isBusy ? ' busy' : '')\n        }, __jsx(\"span\", {\n          className: \"text\"\n        }, itemTime.timeName));\n      })), __jsx(\"div\", {\n        className: 'timeBooking-footer' + (step === 1 && isHideUserForm ? ' show' : '')\n      }, __jsx(\"span\", {\n        onClick: this.resetAndBackProps,\n        className: \"text\"\n      }, \"< Quay l\\u1EA1i\"), __jsx(\"span\", {\n        onClick: this.onHandleStepTwo,\n        className: \"text\",\n        style: choosenTimeCode ? {\n          color: 'black'\n        } : {\n          opacity: 0.5,\n          pointerEvents: 'none'\n        }\n      }, \"Ti\\u1EBFp t\\u1EE5c >\")), __jsx(Form, _extends({\n        className: 'timeBooking-form' + (!isHideUserForm && step === 2 ? ' show' : ''),\n        ref: this.formRef\n      }, layout, {\n        name: \"consignment\",\n        initialValues: formData // onFinish={this.onFinish}\n        ,\n        onFinish: this.onConsign,\n        onValuesChange: function onValuesChange(changedValues, allValues) {\n          _this3.setState({\n            formData: _objectSpread({}, formData, changedValues)\n          }, function () {\n            return console.log(_this3.state);\n          });\n        }\n      }), __jsx(Row, {\n        className: \"flex sell-card-form\",\n        justify: \"center\"\n      }, __jsx(Form.Item, {\n        name: \"dayTime\",\n        label: \"Th\\u1EDDi gian\"\n      }, __jsx(Col, {\n        sm: 24,\n        md: 22\n      }, __jsx(Input, {\n        size: \"small\",\n        value: this.convertCodeToTime(),\n        placeholder: \"...\"\n      }))), __jsx(Form.Item, {\n        name: \"customerName\",\n        rules: [{\n          required: true,\n          message: 'Vui lòng nhập tên quý khách'\n        }],\n        label: \"H\\u1ECD v\\xE0 T\\xEAn\"\n      }, __jsx(Col, {\n        sm: 24,\n        md: 22\n      }, __jsx(Input, {\n        value: formData.customerName,\n        size: \"small\",\n        allowClear: true,\n        id: \"customerName\",\n        key: \"customerName\",\n        onChange: this.changeData,\n        placeholder: \"...\"\n      }))), __jsx(Form.Item, {\n        name: \"phoneNumber\",\n        rules: [{\n          required: true,\n          message: 'Vui lòng nhập số điện thoại'\n        }],\n        label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n      }, __jsx(Col, {\n        sm: 24,\n        md: 22\n      }, __jsx(Input, {\n        value: formData.phoneNumber,\n        size: \"small\",\n        type: 'number',\n        id: \"phoneNumber\",\n        key: \"phoneNumber\",\n        onChange: this.changeData,\n        allowClear: true,\n        placeholder: \"...\"\n      }))), __jsx(Form.Item, {\n        name: \"numberOfProduct\",\n        rules: [{\n          required: true,\n          message: 'Vui lòng nhập số lượng hàng'\n        }],\n        label: \"S\\u1ED1 l\\u01B0\\u1EE3ng H\\xE0ng Ho\\xE1\"\n      }, __jsx(Col, {\n        sm: 24,\n        md: 6\n      }, __jsx(Input, {\n        value: formData.numberOfProduct,\n        size: \"small\",\n        defaultValue: 1,\n        type: 'number',\n        id: \"numberOfProduct\",\n        key: \"numberOfProduct\",\n        onChange: this.changeData,\n        allowClear: true,\n        placeholder: \"...\"\n      }))), __jsx(\"div\", {\n        className: \"flex justify-around align-center\",\n        style: {\n          width: '100%'\n        }\n      }, __jsx(Button, {\n        onClick: this.backStepOne,\n        type: \"secondary\"\n      }, \"Quay l\\u1EA1i\"), __jsx(Button, {\n        loading: isConsigning,\n        type: \"secondary\",\n        htmlType: \"submit\"\n      }, \"X\\xE1c nh\\u1EADn\")))), __jsx(\"div\", {\n        className: 'timeBooking-confirm' + (isHideUserForm && step === 3 ? ' show' : '')\n      }, __jsx(Lottie, {\n        options: defaultOptionsSuccess,\n        delay: 2000,\n        height: 150,\n        width: 150,\n        isStopped: false,\n        isPaused: false\n      }), __jsx(Row, {\n        justify: \"center\"\n      }, __jsx(Col, {\n        span: 20\n      }, __jsx(Descriptions, null, __jsx(Descriptions.Item, {\n        span: 24,\n        label: \"Th\\u1EDDi gian k\\xFD g\\u1EEDi\"\n      }, this.convertCodeToTime()), __jsx(Descriptions.Item, {\n        span: 24,\n        label: \"T\\xEAn Kh\\xE1ch H\\xE0ng\"\n      }, formData.customerName), __jsx(Descriptions.Item, {\n        span: 24,\n        label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n      }, formData.phoneNumber), __jsx(Descriptions.Item, {\n        span: 24,\n        label: \"S\\u1ED1 l\\u01B0\\u1EE3ng h\\xE0ng ho\\xE1\"\n      }, formData.numberOfProduct)))), __jsx(Button, {\n        className: \"MT20\",\n        onClick: this.resetAndBackProps\n      }, \"Quay l\\u1EA1i\")))), __jsx(MyModal, {\n        ref: this.myModal\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(_ref5) {\n        var query;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                query = _ref5.query;\n                return _context6.abrupt(\"return\", {\n                  query: query\n                });\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return ConsignmentScreen;\n}(React.PureComponent);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    locale: state.locale,\n    userData: state.userData\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(ConsignmentScreen));","map":{"version":3,"sources":["/Users/macbook/Desktop/giveawaypremium-client/pages/Screen/Consignment/components/BookingForm/index.js"],"names":["React","Router","ReduxServices","connect","withRouter","images","isMobile","MyModal","moment","GapService","Form","Row","Col","Input","Button","Descriptions","Divider","DatePicker","Select","Lottie","showNotification","ConsignmentScreen","props","dayBooking","state","arrayDate","bookingDataCode","map","itemDate","indexdate","push","date","getAppointmentWithDate","res","results","itemData","indexItem","slot","console","log","setState","key","choosenDay","step","isHideUserForm","choosenTimeCode","choosenDayCode","dayCode","choosenTime","timeCode","formData","isConsigning","formatedTime","substring","formatedDay","slotID","setAppointment","objectId","setTimeout","isHideDayColumn","fetchAppointment","customerName","phoneNumber","numberOfProduct","backConsignment","timeBooking","timeName","myModal","createRef","dayBookingCount","dayBookingTemp","Date","now","item","index","dayName","add","format","replaceAll","layout","labelCol","span","wrapperCol","defaultOptionsSuccess","loop","autoplay","animationData","successJson","dayItem","dayIndex","onChooseDay","borderColor","opacity","translationDate","itemTime","indexTime","isReady","includes","isBusy","pointerEvents","cursor","onChooseTime","resetAndBackProps","onHandleStepTwo","color","formRef","onConsign","changedValues","allValues","convertCodeToTime","required","message","changeData","width","backStepOne","query","PureComponent","mapStateToProps","locale","userData"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Router } from 'common/routes'\nimport ReduxServices from 'common/redux'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'next/router'\nimport { images } from 'config/images'\nimport { isMobile } from 'react-device-detect'\nimport MyModal from 'pages/Components/MyModal'\nimport moment from 'moment'\nimport GapService from 'controller/Api/Services/Gap'\nimport { Form, Row, Col, Input, Button, Descriptions, Divider, DatePicker, Select } from 'antd'\nimport Lottie from 'react-lottie'\n\nimport './style.scss'\nimport { showNotification } from 'common/function'\n\nclass ConsignmentScreen extends React.PureComponent {\n  static async getInitialProps ({ query }) {\n    return { query }\n  }\n  constructor (props) {\n    super(props)\n    this.state = {\n      dayBooking: [],\n      formData: {\n        customerName: '',\n        phoneNumber: '',\n        numberOfProduct: 1\n      },\n      timeBooking: [\n        {\n          timeName: '10:00',\n          timeCode: '1000'\n        },\n        {\n          timeName: '10:30',\n          timeCode: '1030'\n        },\n        {\n          timeName: '11:00',\n          timeCode: '1100'\n        },\n        {\n          timeName: '11:30',\n          timeCode: '1130'\n        },\n        {\n          timeName: '12:00',\n          timeCode: '1200'\n        },\n        {\n          timeName: '12:30',\n          timeCode: '1230'\n        },\n        {\n          timeName: '13:00',\n          timeCode: '1300'\n        },\n        {\n          timeName: '13:30',\n          timeCode: '1330'\n        },\n        {\n          timeName: '14:00',\n          timeCode: '1400'\n        },\n        {\n          timeName: '14:30',\n          timeCode: '1430'\n        },\n        {\n          timeName: '15:00',\n          timeCode: '1500'\n        },\n        {\n          timeName: '15:30',\n          timeCode: '1530'\n        },\n        {\n          timeName: '16:00',\n          timeCode: '1600'\n        },\n        {\n          timeName: '16:30',\n          timeCode: '1630'\n        },\n        {\n          timeName: '17:00',\n          timeCode: '1700'\n        },\n        {\n          timeName: '17:30',\n          timeCode: '1730'\n        },\n        {\n          timeName: '18:00',\n          timeCode: '1800'\n        },\n        {\n          timeName: '18:30',\n          timeCode: '1830'\n        }\n      ],\n      step: 0,\n      isHideUserForm: true,\n      isHideDayColumn: false,\n      choosenDayCode: null,\n      choosenTimeCode: null,\n      bookingDataCode: []\n    }\n    this.myModal = React.createRef()\n  }\n\n  async componentDidMount () {\n    let dayBookingCount = ['', '', '', '', '', '', '']\n    let dayBookingTemp = []\n\n    console.log('componentDidMount')\n\n    console.log(moment(Date().now))\n\n    dayBookingCount.map((item, index) => {\n      dayBookingTemp.push({\n        dayName: moment().add(index, 'day').format('dddd'),\n        date: moment().add(index, 'day').format('DD-MM-YYYY'),\n        dayCode: moment().add(index, 'day').format('DD-MM-YYYY').replaceAll('-', '')\n      })\n    })\n\n    this.setState({\n      dayBooking: dayBookingTemp\n    }, async () => {\n      await this.fetchAppointment()\n    })\n  }\n\n  componentDidUpdate () {\n  }\n\n  componentWillUnmount () {\n  }\n\n  fetchAppointment = async () => {\n    const { dayBooking } = this.state\n\n    const arrayDate = []\n    let bookingDataCode = ''\n    dayBooking.map((itemDate, indexdate) => {\n      arrayDate.push(`\"${itemDate.date}\"`)\n    })\n\n    const res = await GapService.getAppointmentWithDate(arrayDate)\n\n    if (res && res.results) {\n      res.results.map((itemData, indexItem) => {\n        if (itemData && itemData.slot) {\n          bookingDataCode += '-' + itemData.slot + '-'\n        }\n      })\n    }\n\n    console.log('res')\n    console.log(res)\n    console.log(bookingDataCode)\n\n    this.setState({\n      bookingDataCode: bookingDataCode\n    })\n  }\n\n  translationDate = (key) => {\n    switch (key) {\n    case 'Sunday':\n      return 'Chủ Nhật'\n    case 'Monday':\n      return 'Thứ hai'\n    case 'Tuesday':\n      return 'Thứ ba'\n    case 'Wednesday':\n      return 'Thứ tư'\n    case 'Thursday':\n      return 'Thứ năm'\n    case 'Friday':\n      return 'Thứ sáu'\n    case 'Saturday':\n      return 'Thứ bảy'\n    default:\n      return key\n    }\n  }\n\n  onChooseDay = (choosenDay) => {\n    console.log(choosenDay)\n    this.setState({\n      step: 1,\n      isHideUserForm: true,\n      choosenTimeCode: null,\n      choosenDayCode: choosenDay ? choosenDay.dayCode : ''\n    })\n  }\n\n  onChooseTime = (choosenTime) => {\n    console.log(choosenTime)\n    this.setState({\n      step: 1,\n      choosenTimeCode: choosenTime ? choosenTime.timeCode : ''\n    })\n  }\n\n  onHandleOpenContent = () => {\n  }\n\n  onConsign = async () => {\n    const { formData, choosenDayCode, choosenTimeCode, bookingDataCode } = this.state\n    if (choosenTimeCode && choosenDayCode) {\n      this.setState({\n        isConsigning: true\n      }, async () => {\n        console.log('onConsign')\n        const formatedTime = choosenTimeCode.substring(0, 2) + ':' + choosenTimeCode.substring(2, 4)\n        const formatedDay = choosenDayCode.substring(0, 2) + '-' + choosenDayCode.substring(2, 4) + '-' + choosenDayCode.substring(4, 8)\n        const slotID = choosenTimeCode + choosenDayCode\n        const bookingDataCode = this.state.bookingDataCode + '-' + slotID + '-'\n\n        const res = await GapService.setAppointment(formData, slotID, formatedTime, formatedDay)\n        console.log('res')\n        console.log(res)\n        if (res && res.objectId) {\n          this.setState({\n            bookingDataCode: bookingDataCode,\n            isHideUserForm: true,\n            isConsigning: false\n          }, () => {\n            setTimeout(() => {\n              this.setState({\n                step: 3,\n                isHideDayColumn: true\n              })\n            }, 1000)\n          })\n        } else {\n          this.setState({\n            isConsigning: false\n          }, () => this.fetchAppointment())\n          showNotification('Đặt lịch thất bại!')\n        }\n      })\n    }\n  }\n\n  // closeModal = () => {\n  //   this.myModal.current.closeModal()\n  // }\n\n  onHandleStepTwo = () => {\n    this.setState({\n      isHideUserForm: false\n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          step: 2\n        })\n      }, 500)\n    })\n  }\n\n  backStepOne = () => {\n    this.setState({\n      isHideUserForm: true\n    }, () => {\n      this.fetchAppointment()\n      setTimeout(() => {\n        this.setState({\n          step: 1\n        })\n      }, 500)\n    })\n  }\n\n  resetAndBackProps = () => {\n    this.setState({\n      formData: {\n        customerName: '',\n        phoneNumber: '',\n        numberOfProduct: 1\n      },\n      step: 0,\n      isHideDayColumn: false,\n      choosenDayCode: null,\n      choosenTimeCode: null\n    }, () => {\n      this.fetchAppointment()\n      this.props.backConsignment()\n    })\n  }\n\n  convertCodeToTime = () => {\n    const { choosenTimeCode, choosenDayCode } = this.state\n\n    if (choosenTimeCode && choosenDayCode) {\n      const formatedTime = choosenTimeCode.substring(0, 2) + ':' + choosenTimeCode.substring(2, 4)\n      const formatedDay = choosenDayCode.substring(0, 2) + '-' + choosenDayCode.substring(2, 4) + '-' + choosenDayCode.substring(4, 8)\n      return formatedDay + ' ' + formatedTime\n    }\n\n    return '---'\n  }\n\n  render () {\n    const { \n      step, dayBooking, choosenDayCode, timeBooking, bookingDataCode,\n      choosenTimeCode, formData, isHideUserForm, isConsigning, isHideDayColumn\n    } = this.state\n    const layout = {\n      labelCol: { span: 9 },\n      wrapperCol: { span: 15 }\n    }\n\n    const defaultOptionsSuccess = {\n      loop: false,\n      autoplay: true,\n      animationData: images.successJson\n    }\n\n    return (\n      <div className='bookingform-home-container'>\n        <div className='bookingform'>\n          <div className={'dayBooking-box' + (!isHideDayColumn ? ' show' : '')}>\n\n            {dayBooking.map((dayItem, dayIndex) => {\n              return (\n                <div\n                  key={dayIndex}\n                  className={'day-box'}\n                  onClick={() => this.onChooseDay(dayItem)}\n                  style={(choosenDayCode && choosenDayCode === dayItem.dayCode) ? { borderColor: 'black', opacity: 1 } : (choosenDayCode && choosenDayCode !== dayItem.dayCode) ? { opacity: 0.4 } : {}}\n                >\n                  <span className='text day-name'>{dayIndex === 0 ? 'Hôm nay' : this.translationDate(dayItem.dayName)}</span>\n                  <span className='text day-txt'>{dayItem.date}</span>\n                </div>\n              )\n            })}\n          </div>\n\n          <div className='timeBooking-box'>\n            <div className={'timeBooking-grid' + (step === 1 && isHideUserForm ? ' show' : '')}>\n              {timeBooking.map((itemTime, indexTime) => {\n                const isReady = !bookingDataCode.includes(choosenTimeCode + choosenDayCode) && itemTime.timeCode === choosenTimeCode\n                const isBusy = bookingDataCode.includes(itemTime.timeCode + choosenDayCode)\n                // console.log(bookingDataCode)\n                // console.log(itemTime.timeCode + choosenDayCode)\n                // console.log(isReady)\n                // console.log(isBusy)\n\n                return (\n                  <div style={isBusy ? { pointerEvents: 'none', cursor: 'none' } : {}} onClick={() => isBusy ? {} : this.onChooseTime(itemTime)} key={indexTime} className={'time-box' + (isReady ? ' ready' : isBusy ? ' busy' : '')}>\n                    <span className='text'>{itemTime.timeName}</span>\n                  </div>\n                )\n              })}\n            </div>\n\n            <div className={'timeBooking-footer' + (step === 1 && isHideUserForm ? ' show' : '')}>\n              <span onClick={this.resetAndBackProps} className='text'>{`< Quay lại`}</span>\n              <span onClick={this.onHandleStepTwo} className='text' style={choosenTimeCode ? { color: 'black' } : { opacity: 0.5, pointerEvents: 'none' }}>{`Tiếp tục >`}</span>\n            </div>\n\n            <Form\n              className={'timeBooking-form' + (!isHideUserForm && step === 2 ? ' show' : '')}\n              ref={this.formRef}\n              {...layout}\n              name='consignment'\n              initialValues={formData}\n              // onFinish={this.onFinish}\n              onFinish={this.onConsign}\n              onValuesChange={(changedValues, allValues) => {\n                this.setState({\n                  formData: {\n                    ...formData,\n                    ...changedValues\n                  }\n                }, () => console.log(this.state))\n              }}\n            >\n              <Row className='flex sell-card-form' justify='center'>\n                <Form.Item name='dayTime' label='Thời gian'>\n                  <Col sm={24} md={22}>\n                    <Input size='small' value={this.convertCodeToTime()} placeholder='...' />\n                  </Col>\n                </Form.Item>\n                <Form.Item name='customerName' rules={[{ required: true, message: 'Vui lòng nhập tên quý khách' }]} label='Họ và Tên'>\n                  <Col sm={24} md={22}>\n                    <Input value={formData.customerName} size='small' allowClear id='customerName' key='customerName' onChange={this.changeData} placeholder='...' />\n                  </Col>\n                </Form.Item>\n\n                <Form.Item name='phoneNumber' rules={[{ required: true, message: 'Vui lòng nhập số điện thoại' }]} label='Số điện thoại'>\n                  <Col sm={24} md={22}>\n                    <Input value={formData.phoneNumber} size='small' type={'number'} id='phoneNumber' key='phoneNumber' onChange={this.changeData} allowClear placeholder='...' />\n                  </Col>\n                </Form.Item>\n\n                <Form.Item name='numberOfProduct' rules={[{ required: true, message: 'Vui lòng nhập số lượng hàng' }]} label='Số lượng Hàng Hoá'>\n                  <Col sm={24} md={6}>\n                    <Input value={formData.numberOfProduct} size='small' defaultValue={1} type={'number'} id='numberOfProduct' key='numberOfProduct' onChange={this.changeData} allowClear placeholder='...' />\n                  </Col>\n                </Form.Item>\n\n                <div className='flex justify-around align-center' style={{ width: '100%' }}>\n                  <Button onClick={this.backStepOne} type='secondary'>Quay lại</Button>\n                  <Button loading={isConsigning} type='secondary' htmlType='submit'>Xác nhận</Button>\n                </div>\n              </Row>\n            </Form>\n\n            <div className={'timeBooking-confirm' + (isHideUserForm && step === 3 ? ' show' : '')}>\n              <Lottie\n                options={defaultOptionsSuccess}\n                delay={2000}\n                height={150}\n                width={150}\n                isStopped={false}\n                isPaused={false}\n              />\n              <Row justify='center'>\n                <Col span={20}>\n                  <Descriptions>\n                    <Descriptions.Item span={24} label='Thời gian ký gửi'>{this.convertCodeToTime()}</Descriptions.Item>\n                    <Descriptions.Item span={24} label='Tên Khách Hàng'>{formData.customerName}</Descriptions.Item>\n                    <Descriptions.Item span={24} label='Số điện thoại'>{formData.phoneNumber}</Descriptions.Item>\n                    <Descriptions.Item span={24} label='Số lượng hàng hoá'>{formData.numberOfProduct}</Descriptions.Item>\n                  </Descriptions>\n                </Col>\n              </Row>\n              <Button className='MT20' onClick={this.resetAndBackProps} >Quay lại</Button>\n            </div>\n          </div>\n        </div>\n        <MyModal ref={this.myModal} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  locale: state.locale,\n  userData: state.userData\n})\n\nexport default withRouter(connect(mapStateToProps)(ConsignmentScreen))\n"]},"metadata":{},"sourceType":"module"}