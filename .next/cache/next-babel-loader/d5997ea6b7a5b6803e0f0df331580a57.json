{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Router } from \"../../../common/routes\";\nimport ReduxServices from \"../../../common/redux\";\nimport { connect } from 'react-redux';\nimport { Form, Button, Layout, Input, Checkbox, Menu, Row, Col } from 'antd';\nimport { withRouter } from 'next/router';\nimport { images } from \"../../../config/images\";\nimport { isMobile } from 'react-device-detect';\nimport MyModal from \"../../Components/MyModal\";\nimport \"./style.scss\";\nimport { checkIsSigned, showNotification } from \"../../../common/function\";\nimport GapService from \"../../../controller/Api/Services/Gap\";\nimport Media from 'react-media';\nimport { bindActionCreators } from 'redux';\nimport StorageActions from \"../../../controller/Redux/actions/storageActions\";\nimport { AppstoreOutlined, MenuUnfoldOutlined, MenuFoldOutlined, PieChartOutlined, DesktopOutlined, ContainerOutlined, MailOutlined, WalletOutlined, SettingOutlined } from '@ant-design/icons';\nimport Consignment from \"./components/Consignment\";\nimport ManageScreen from \"./components/ManageScreen\";\nimport SettingScreen from \"./components/SettingScreen\";\n\nvar DashBoard = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(DashBoard, _React$PureComponent);\n\n  var _super = _createSuper(DashBoard);\n\n  function DashBoard(props) {\n    var _this;\n\n    _classCallCheck(this, DashBoard);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"checkIsSigned\", function () {\n      var userData = _this.props.userData;\n      var isSigned = checkIsSigned(userData);\n\n      if (!isSigned) {\n        _this.myModal.current.openModal(_this.renderLoginPopup(), {\n          closable: false\n        });\n      } else {\n        console.log('isSigned = true');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFinish\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this.setState({\n                  isLoadingLogin: true\n                }, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                  var username, password, result;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          username = values.username;\n                          password = values.password;\n                          _context.next = 4;\n                          return GapService.logInAdmin(username, password);\n\n                        case 4:\n                          result = _context.sent;\n\n                          if (result && result.sessionToken) {\n                            console.log(result);\n                            ReduxServices.setUserToken(result);\n                            showNotification('Đăng nhập thành công');\n\n                            _this.setState({\n                              isLogin: true,\n                              isLoadingLogin: false\n                            });\n\n                            _this.closeModal();\n                          } else {\n                            showNotification('Đăng nhập thất bại');\n\n                            _this.setState({\n                              isLoadingLogin: false\n                            });\n                          }\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                })));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSignOut\", function () {\n      ReduxServices.deleteUserToken();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFinishFailed\", function (errorInfo) {\n      showNotification('Đăng nhập thất bại');\n      console.log('Failed:', errorInfo);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderLoginPopup\", function () {\n      var isLoadingLogin = _this.state.isLoadingLogin;\n      var layout = {\n        labelCol: {\n          span: 8\n        },\n        wrapperCol: {\n          span: 16\n        }\n      };\n      var tailLayout = {\n        wrapperCol: {\n          offset: 8,\n          span: 16\n        }\n      };\n      return __jsx(\"div\", {\n        className: \"login-popup-container\"\n      }, __jsx(\"span\", {\n        className: \"text text-title MB15\"\n      }, \"\\u0110\\u0103ng nh\\u1EADp\"), __jsx(Form, _extends({}, layout, {\n        name: \"basic\",\n        initialValues: {\n          remember: true\n        },\n        onFinish: _this.onFinish,\n        onFinishFailed: _this.onFinishFailed\n      }), __jsx(Form.Item, {\n        label: \"T\\xE0i kho\\u1EA3n\",\n        name: \"username\",\n        rules: [{\n          required: true,\n          message: 'Vui lòng nhập tên tài khoản!'\n        }]\n      }, __jsx(Input, null)), __jsx(Form.Item, {\n        label: \"M\\u1EADt kh\\u1EA9u\",\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: 'Vui lòng nhập mật khẩu!'\n        }]\n      }, __jsx(Input.Password, null)), __jsx(Form.Item, tailLayout, __jsx(Button, {\n        loading: isLoadingLogin,\n        type: \"primary\",\n        htmlType: \"submit\"\n      }, \"OK\"))));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeModal\", function () {\n      _this.myModal.current.closeModal();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"detectRenderConent\", function () {\n      var numberPage = _this.state.numberPage;\n\n      switch (numberPage) {\n        case 1:\n          return _this.renderSummarize();\n\n        case 2:\n          return _this.renderSummarize();\n\n        case 3:\n          return _this.renderManageScreen();\n\n        case 4:\n          return _this.renderConsignment();\n\n        case 5:\n          return _this.renderSetting();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChoosePage\", function (page) {\n      if (page && page.key) {\n        _this.setState({\n          numberPage: Number(page.key)\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSummarize\", function () {\n      return __jsx(\"div\", null);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderConsignment\", function () {\n      return __jsx(Consignment, null);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderManageScreen\", function () {\n      return __jsx(ManageScreen, null);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSetting\", function () {\n      return __jsx(SettingScreen, null);\n    });\n\n    _this.state = {\n      isLogin: false,\n      isLoadingLogin: false,\n      numberPage: 1,\n      formData: {\n        nameConsigner: '',\n        nameConsignee: '',\n        numConsignment: 1,\n        bankNumber: '',\n        bankName: ''\n      }\n    };\n    _this.myModal = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(DashBoard, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.checkIsSigned();\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this.checkIsSigned();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var numberPage = this.state.numberPage;\n      return __jsx(\"div\", {\n        className: \"dashboard-container\"\n      }, __jsx(\"div\", {\n        className: \"dashboard-container-wrapper\"\n      }, __jsx(\"div\", {\n        className: \"sider-container\"\n      }, __jsx(Media, {\n        query: \"(max-width: 567px)\",\n        render: function render() {\n          return __jsx(Menu, {\n            defaultSelectedKeys: ['1'],\n            theme: \"dark\",\n            inlineCollapsed: _this2.state.collapsed,\n            selectedKeys: numberPage.toString()\n          }, __jsx(Menu.Item, {\n            key: \"1\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(PieChartOutlined, {\n            width: 40,\n            height: 40\n          })), __jsx(Menu.Item, {\n            key: \"2\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(DesktopOutlined, null)), __jsx(Menu.Item, {\n            key: \"3\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(ContainerOutlined, null)), __jsx(Menu.Item, {\n            key: \"4\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(MailOutlined, null)), __jsx(Menu.Item, {\n            key: \"5\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(SettingOutlined, null)), __jsx(Menu.Item, {\n            key: \"6\",\n            onClick: _this2.handleSignOut\n          }, __jsx(WalletOutlined, null)));\n        }\n      }), __jsx(Media, {\n        query: \"(min-width: 568px)\",\n        render: function render() {\n          return __jsx(Menu, {\n            defaultSelectedKeys: ['1'],\n            mode: \"inline\",\n            theme: \"dark\",\n            inlineCollapsed: _this2.state.collapsed,\n            selectedKeys: numberPage.toString()\n          }, __jsx(Menu.Item, {\n            key: \"1\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(PieChartOutlined, null), \"Th\\u1ED1ng K\\xEA\"), __jsx(Menu.Item, {\n            key: \"2\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(DesktopOutlined, null), \"Ghi Ch\\xFA\"), __jsx(Menu.Item, {\n            key: \"3\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(ContainerOutlined, null), \"Qu\\u1EA3n l\\xFD\"), __jsx(Menu.Item, {\n            key: \"4\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(MailOutlined, null), \"K\\xFD g\\u1EEDi\"), __jsx(Menu.Item, {\n            key: \"5\",\n            onClick: _this2.handleChoosePage\n          }, __jsx(SettingOutlined, null), \"C\\xE0i \\u0111\\u1EB7t\"), __jsx(Menu.Item, {\n            key: \"6\",\n            onClick: _this2.handleSignOut\n          }, __jsx(WalletOutlined, null), \"\\u0110\\u0103ng xu\\u1EA5t\"));\n        }\n      })), __jsx(\"div\", {\n        className: \"dashboard-content\"\n      }, this.detectRenderConent())), __jsx(MyModal, {\n        ref: this.myModal\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref3) {\n        var query;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                query = _ref3.query;\n                return _context4.abrupt(\"return\", {\n                  query: query\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getInitialProps(_x2) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return DashBoard;\n}(React.PureComponent);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    locale: state.locale,\n    userData: state.userData\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(DashBoard));","map":{"version":3,"sources":["/Users/macbook/Desktop/giveawaypremium-client/pages/Screen/DashBoard/index.js"],"names":["React","Router","ReduxServices","connect","Form","Button","Layout","Input","Checkbox","Menu","Row","Col","withRouter","images","isMobile","MyModal","checkIsSigned","showNotification","GapService","Media","bindActionCreators","StorageActions","AppstoreOutlined","MenuUnfoldOutlined","MenuFoldOutlined","PieChartOutlined","DesktopOutlined","ContainerOutlined","MailOutlined","WalletOutlined","SettingOutlined","Consignment","ManageScreen","SettingScreen","DashBoard","props","userData","isSigned","myModal","current","openModal","renderLoginPopup","closable","console","log","values","setState","isLoadingLogin","username","password","logInAdmin","result","sessionToken","setUserToken","isLogin","closeModal","deleteUserToken","errorInfo","state","layout","labelCol","span","wrapperCol","tailLayout","offset","remember","onFinish","onFinishFailed","required","message","numberPage","renderSummarize","renderManageScreen","renderConsignment","renderSetting","page","key","Number","formData","nameConsigner","nameConsignee","numConsignment","bankNumber","bankName","createRef","prevProps","prevState","collapsed","toString","handleChoosePage","handleSignOut","detectRenderConent","query","PureComponent","mapStateToProps","locale"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Router } from 'common/routes'\nimport ReduxServices from 'common/redux'\nimport { connect } from 'react-redux'\nimport { Form, Button, Layout, Input, Checkbox, Menu, Row, Col } from 'antd'\nimport { withRouter } from 'next/router'\nimport { images } from 'config/images'\nimport { isMobile } from 'react-device-detect'\nimport MyModal from 'pages/Components/MyModal'\nimport './style.scss'\nimport { checkIsSigned, showNotification } from 'common/function'\nimport GapService from 'controller/Api/Services/Gap'\nimport Media from 'react-media'\nimport { bindActionCreators } from 'redux'\nimport StorageActions from 'controller/Redux/actions/storageActions'\nimport {\n  AppstoreOutlined,\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  PieChartOutlined,\n  DesktopOutlined,\n  ContainerOutlined,\n  MailOutlined,\n  WalletOutlined,\n  SettingOutlined\n} from '@ant-design/icons'\n\nimport Consignment from './components/Consignment'\nimport ManageScreen from './components/ManageScreen'\nimport SettingScreen from './components/SettingScreen'\n\nclass DashBoard extends React.PureComponent {\n  static async getInitialProps ({ query }) {\n    return { query }\n  }\n  constructor (props) {\n    super(props)\n    this.state = {\n      isLogin: false,\n      isLoadingLogin: false,\n      numberPage: 1,\n      formData: {\n        nameConsigner: '',\n        nameConsignee: '',\n        numConsignment: 1,\n        bankNumber: '',\n        bankName: ''\n      }\n    }\n    this.myModal = React.createRef()\n  }\n\n  async componentDidMount () {\n    this.checkIsSigned()\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    this.checkIsSigned()\n  }\n\n  checkIsSigned = () => {\n    const { userData } = this.props\n    const isSigned = checkIsSigned(userData)\n    if (!isSigned) {\n      this.myModal.current.openModal(this.renderLoginPopup(), { closable: false })\n    } else {\n      console.log('isSigned = true')\n    }\n  }\n\n  onFinish = async (values) => {\n    this.setState({\n      isLoadingLogin: true\n    }, async () => {\n      const username = values.username\n      const password = values.password\n\n      const result = await GapService.logInAdmin(username, password)\n      if (result && result.sessionToken) {\n        console.log(result)\n        ReduxServices.setUserToken(result)\n        showNotification('Đăng nhập thành công')\n        this.setState({\n          isLogin: true,\n          isLoadingLogin: false\n        })\n        this.closeModal()\n      } else {\n        showNotification('Đăng nhập thất bại')\n        this.setState({\n          isLoadingLogin: false\n        })\n      }\n    })\n  };\n\n  handleSignOut = () => {\n    ReduxServices.deleteUserToken()\n  }\n\n  onFinishFailed = (errorInfo) => {\n    showNotification('Đăng nhập thất bại')\n    console.log('Failed:', errorInfo)\n  };\n\n  renderLoginPopup = () => {\n    const { isLoadingLogin } = this.state\n    const layout = {\n      labelCol: { span: 8 },\n      wrapperCol: { span: 16 }\n    }\n    const tailLayout = {\n      wrapperCol: { offset: 8, span: 16 }\n    }\n    return (\n      <div className='login-popup-container'>\n        <span className='text text-title MB15'>Đăng nhập</span>\n        <Form\n          {...layout}\n          name='basic'\n          initialValues={{ remember: true }}\n          onFinish={this.onFinish}\n          onFinishFailed={this.onFinishFailed}\n        >\n          <Form.Item\n            label='Tài khoản'\n            name='username'\n            rules={[{ required: true, message: 'Vui lòng nhập tên tài khoản!' }]}\n          >\n            <Input />\n          </Form.Item>\n\n          <Form.Item\n            label='Mật khẩu'\n            name='password'\n            rules={[{ required: true, message: 'Vui lòng nhập mật khẩu!' }]}\n          >\n            <Input.Password />\n          </Form.Item>\n\n          {/* <Form.Item {...tailLayout} name='remember' valuePropName='checked'>\n            <Checkbox className='text'>Ghi nhớ</Checkbox>\n          </Form.Item> */}\n\n          <Form.Item {...tailLayout}>\n            <Button loading={isLoadingLogin} type='primary' htmlType='submit'>\n              OK\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    )\n  }\n\n  closeModal = () => {\n    this.myModal.current.closeModal()\n  }\n\n  detectRenderConent = () => {\n    const { numberPage } = this.state\n    switch (numberPage) {\n    case 1:\n      return this.renderSummarize()\n    case 2:\n      return this.renderSummarize()\n    case 3:\n      return this.renderManageScreen()\n    case 4:\n      return this.renderConsignment()\n    case 5:\n      return this.renderSetting()\n    }\n  }\n\n  handleChoosePage = (page) => {\n    if (page && page.key) {\n      this.setState({\n        numberPage: Number(page.key)\n      })\n    }\n  }\n\n  renderSummarize = () => {\n    return (\n      <div />\n    )\n  }\n\n  renderConsignment = () => {\n    return (\n      <Consignment />\n    )\n  }\n\n  renderManageScreen = () => {\n    return (\n      <ManageScreen />\n    )\n  }\n\n  renderSetting = () => {\n    return (\n      <SettingScreen />\n    )\n  }\n\n  render () {\n    const { numberPage } = this.state\n    return (\n      <div className='dashboard-container'>\n        <div className='dashboard-container-wrapper'>\n          <div className='sider-container'>\n            <Media query='(max-width: 567px)' render={() => (\n              <Menu\n                defaultSelectedKeys={['1']}\n                theme='dark'\n                inlineCollapsed={this.state.collapsed}\n                selectedKeys={numberPage.toString()}\n              >\n                <Menu.Item key='1' onClick={this.handleChoosePage} ><PieChartOutlined width={40} height={40} /></Menu.Item>\n                <Menu.Item key='2' onClick={this.handleChoosePage} ><DesktopOutlined /></Menu.Item>\n                <Menu.Item key='3' onClick={this.handleChoosePage} ><ContainerOutlined /></Menu.Item>\n                <Menu.Item key='4' onClick={this.handleChoosePage} ><MailOutlined /></Menu.Item>\n                <Menu.Item key='5' onClick={this.handleChoosePage} ><SettingOutlined /></Menu.Item>\n                <Menu.Item key='6' onClick={this.handleSignOut} ><WalletOutlined /></Menu.Item>\n              </Menu>\n            )} />\n            <Media query='(min-width: 568px)' render={() =>\n              <Menu\n                defaultSelectedKeys={['1']}\n                mode='inline'\n                theme='dark'\n                inlineCollapsed={this.state.collapsed}\n                selectedKeys={numberPage.toString()}\n              >\n                <Menu.Item key='1' onClick={this.handleChoosePage} ><PieChartOutlined />Thống Kê</Menu.Item>\n                <Menu.Item key='2' onClick={this.handleChoosePage} ><DesktopOutlined />Ghi Chú</Menu.Item>\n                <Menu.Item key='3' onClick={this.handleChoosePage} ><ContainerOutlined />Quản lý</Menu.Item>\n                <Menu.Item key='4' onClick={this.handleChoosePage} ><MailOutlined />Ký gửi</Menu.Item>\n                <Menu.Item key='5' onClick={this.handleChoosePage} ><SettingOutlined />Cài đặt</Menu.Item>\n                <Menu.Item key='6' onClick={this.handleSignOut} ><WalletOutlined />Đăng xuất</Menu.Item>\n              </Menu>\n            } />\n          </div>\n          <div className='dashboard-content'>\n            {this.detectRenderConent()}\n          </div>\n        </div>\n        <MyModal ref={this.myModal} />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  locale: state.locale,\n  userData: state.userData\n})\n\nexport default withRouter(connect(mapStateToProps)(DashBoard))\n"]},"metadata":{},"sourceType":"module"}