{"version":3,"file":"static/webpack/static/development/pages/_app.js.7b03a87fef59b92d1725.hot-update.js","sources":["webpack:///./pages/Container/Header/index.js"],"sourcesContent":["import React from 'react'\nimport ReduxServices from 'common/redux'\nimport GapService from 'controller/Api/Services/Gap'\nimport { connect } from 'react-redux'\nimport { Router } from 'common/routes'\nimport { withRouter } from 'next/router'\nimport { Layout, Button, Drawer, Menu, Dropdown } from 'antd'\nimport CustomLink from 'pages/Components/CustomLink'\nimport Media from 'react-media'\nimport { CloseOutlined, DownOutlined } from '@ant-design/icons'\nimport Observer from 'common/observer'\nimport { images } from 'config/images'\nimport './style.scss'\nimport { checkIsSigned } from 'common/function'\n\nclass Header extends React.PureComponent {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isOpen: false,\n      visible: false,\n      isShowAboutUs: false,\n      isShowConsignment: false,\n      isShowStore: false,\n      isShowRightSideHeader: false,\n      isShowRightSideHeaderAnimation: false\n    }\n  }\n\n  componentDidMount () {\n    setTimeout(() => {\n      this.setState({\n        isShowRightSideHeader: true\n      })\n    }, 200)\n  }\n\n  backHome = () => {\n    Router.pushRoute('/')\n  }\n\n  goToAccountPage = () => {\n    Router.pushRoute('/account')\n  }\n\n  showDrawer = () => {\n    this.setState({\n      isOpen: true\n    })\n  }\n\n  closeDrawer = () => {\n    this.setState({\n      isOpen: false\n    })\n  }\n\n  handleSignIn = async () => {\n    this.closeDrawer()\n    // const result = await GapService.logInAdmin()\n    // console.log('handleSignIn --- run')\n    // console.log(result)\n    // Observer.emit(OBSERVER_KEY.SIGN_IN)\n  }\n\n  closePopover = () => {\n    this.setState({\n      visible: false\n    })\n  }\n\n  handleVisibleChange = visible => {\n    this.setState({ visible })\n  }\n\n  renderLeftSide () {\n    return (\n      <div className='left-side'>\n        <h1 className='logo' onClick={this.backHome}>\n          <img src={images.logoHeaderWhite} style={{ objectFit: 'contain', height: '100%', width: 'auto' }} />\n          <img src={images.giveawayTextBlack} style={{ objectFit: 'contain', height: 'unset', width: 'unset' }} />\n        </h1>\n      </div>\n    )\n  }\n\n  renderMainNav (mode = 'horizontal') {\n    const { isShowAboutUs, isShowConsignment, isShowStore, isShowRightSideHeader, isShowRightSideHeaderAnimation } = this.state\n    const { messages } = this.props.locale\n    const isHomePage = this.props.router.asPath === '/'\n\n    // if (isHomePage) {\n    //   return null\n    // }\n\n    return (\n      <Menu\n        // className='main-nav'\n        style={isHomePage ? { opacity: 0, PointerEvent: 'none' } : {}}\n        className={'main-nav' + (isShowRightSideHeader ? ' show' : '') + (isShowRightSideHeaderAnimation ? ' animation' : '')}\n        mode={mode}\n        onClick={() => this.closeDrawer()}\n      >\n        <Menu.Item key={1}>\n          <CustomLink route='/gioithieu'>\n            <span className={'main-nav-item' + (isShowRightSideHeader ? ' show' : '')}>Về chúng tôi</span>\n          </CustomLink>\n        </Menu.Item>\n        <Menu.Item key={2} >\n          <CustomLink route='/kygui'>\n            <span className={'main-nav-item' + (isShowRightSideHeader ? ' show' : '')}>Ký gửi</span>\n          </CustomLink>\n        </Menu.Item>\n        <Menu.Item key={3} >\n          <CustomLink route='/muasam'>\n            <span className={'main-nav-item' + (isShowRightSideHeader ? ' show' : '')}>Mua sắm</span>\n          </CustomLink>\n        </Menu.Item>\n      </Menu>\n    )\n  }\n\n  renderFooterNav () {\n    const { messages } = this.props.locale\n    return (\n      <Menu\n        className='footer-nav'\n        mode={'vertical'}\n        onClick={() => this.closeDrawer()}\n      />\n    )\n  }\n\n  renderDesktop () {\n    const { locale, userData } = this.props\n    const { isShowRightSideHeader } = this.state\n    const { messages } = locale\n    const isAdminPage = this.props.router.asPath === '/admin'\n\n    const isSigned = checkIsSigned(userData)\n\n    setTimeout(() => {\n      this.setState({\n        isShowRightSideHeader: true\n      })\n    }, 1000)\n\n    return (\n      <div className='wrapper-custom-header'>\n        {this.renderLeftSide()}\n        {isSigned && isAdminPage &&\n        <div className='flex align-center'>\n          <div className='status-on' />\n          <h1 className='text text-bold'>\n            {userData && userData.name}\n          </h1>\n        </div>}\n        <div className={'right-side'}>\n          {this.renderMainNav()}\n          <div className='ctn-btn-signin ML5'>\n            {/* {isSigned ? (\n                        <>\n                          <Dropdown overlay={accountNav} trigger={['click']}>\n                            <a className='ant-dropdown-link' onClick={e => e.preventDefault()}>\n                              <DownOutlined />\n                            </a>\n                          </Dropdown>\n                        </>\n            ) : <Button\n              // style={{ 'border-radius': '25px' }}\n              className='btn-signin'\n              onClick={() => this.handleSignIn()}\n            >\n              {messages.signIn}\n            </Button>} */}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderMainNavMobile (mode = 'horizontal') {\n    const { isShowAboutUs, isShowConsignment, isShowStore, isShowRightSideHeader, isShowRightSideHeaderAnimation, isOpen } = this.state\n    const { messages } = this.props.locale\n    const isHomePage = this.props.router.asPath === '/'\n\n    // if (isHomePage) {\n    //   return null\n    // }\n\n    return (\n      <Menu\n        style={isHomePage ? { opacity: 0, PointerEvent: 'none' } : {}}\n        className={'main-nav-mobile' + (isShowRightSideHeader ? ' show' : '') + (isShowRightSideHeaderAnimation ? ' animation' : '')}\n        mode={mode}\n        onClick={() => this.closeDrawer()}\n      >\n        <Menu.Item key={1}>\n          <CustomLink route='/gioithieu'>\n            <span className={'main-nav-item' + (isShowRightSideHeader ? ' show' : '')}>Về chúng tôi</span>\n          </CustomLink>\n        </Menu.Item>\n        <Menu.Item key={2} >\n          <CustomLink route='/kygui'>\n            <span className={'main-nav-item' + (isShowRightSideHeader ? ' show' : '')}>Ký gửi</span>\n          </CustomLink>\n        </Menu.Item>\n        <Menu.Item key={3} >\n          <CustomLink route='/muasam'>\n            <span className={'main-nav-item' + (isShowRightSideHeader ? ' show' : '')}>Mua sắm</span>\n          </CustomLink>\n        </Menu.Item>\n      </Menu>\n    )\n  }\n\n  renderMobile () {\n    const { locale, userData } = this.props\n    const { messages } = locale\n    const isSigned = true\n    const isHomePage = this.props.router.asPath === '/'\n\n    return (\n      <div className='wrapper'>\n        <Drawer\n          title=''\n          width={'100%'}\n          placement='right'\n          onClose={this.closeDrawer}\n          closeIcon={<CloseOutlined />}\n          visible={this.state.isOpen}\n          // drawerStyle={{ background: '#000' }}\n        >\n          <div className='mobile-menu flex direction-column justify-center'>\n            <div className='top-box'>\n              {/* <img className='MT30 MB30' width={100} src={images.logo} /> */}\n              <h1 className='logo'>\n                <img width={90} src={images.logoHeaderBlack} style={{ objectFit: 'contain' }} />\n              </h1>\n              {this.renderMainNavMobile('vertical')}\n\n              {/* {!isSigned && <div className='ctn-btn-signin MT20'>\n                <Button\n                  block\n                  className='btn-signin'\n                  onClick={() => this.handleSignIn()}\n                >\n                  {messages.signIn}\n                </Button>\n              </div>} */}\n            </div>\n            {/* {this.renderFooterNav()} */}\n          </div>\n        </Drawer>\n        {this.renderLeftSide()}\n        {\n          !isHomePage && <div className='right-side'>\n            <a className='menu-bugger ML15' onClick={this.showDrawer}>\n              <img src={images.threeDots} />\n            </a>\n          </div>\n        }\n      </div>\n    )\n  }\n  render () {\n    return (\n      <Layout.Header className='header-container'>\n        <Media\n          query='(min-width: 500px)'\n          render={() => this.renderDesktop()}\n        />\n        <Media\n          query='(max-width: 501px)'\n          render={() => this.renderMobile()}\n        />\n      </Layout.Header>\n    )\n  }\n}\nconst mapStateToProps = (state) => ({\n  locale: state.locale,\n  userData: state.userData\n})\nexport default withRouter(connect(mapStateToProps, null)(Header))\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAsBA;AACA;AACA;AAxBA;AA0BA;AACA;AACA;AA5BA;AA8BA;AACA;AADA;AAGA;AACA;AAlCA;AAoCA;AACA;AADA;AAGA;AACA;AAxCA;AAyCA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA1CA;AAkDA;AACA;AADA;AAGA;AACA;AAtDA;AAwDA;AAAA;AAAA;AACA;AACA;AAxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAWA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;;;AAwCA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;;;AAEA;AAAA;AACA;AADA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAMA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAEA;AACA;AACA;AADA;AAGA;AAEA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AAAA;AAoBA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAMA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAKA;AACA;AAAA;AAAA;AAFA;AAMA;;;;AAvQA;AACA;AAwQA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAGA;;;;A","sourceRoot":""}